<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EduTrack Student Dashboard</title>

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Sharp" rel="stylesheet"/>
    <link rel="stylesheet" href="SVstyle.css" />
  </head>
  <body>
    <!--SIDEBAR-->
    <div class="container">
      <aside>
        <div class="top">
          <div class="logo">
            <img src="./images/logo2.png" />
            <!--Edutrack Logo-->
            <h2>Edu<span class="danger">Track</span></h2>
            <!--Edutrack Logo text-->
          </div>
        </div>

        <div class="sidebar">
          <a href="SVindex.html" class="active">
            <span class="material-icons-sharp">grid_view</span>
            <h3>Dashboard</h3>
          </a>
          <a href="inbox.html">
            <span class="material-icons-sharp">inbox</span>
            <h3>Inbox</h3>
            <span class="message-count">26</span>
          </a>
          <a href="SVsettings.html">

            <span class="material-icons-sharp">settings</span>
            <h3>Settings</h3>
          </a>
          <a href="task.html">
            <span class="material-icons-sharp">task</span>
            <h3>Tasks</h3>
          </a>
          <a href="reviews.html">
            <span class="material-icons-sharp">how_to_reg</span>
            <h3>Review Tasks</h3>
          </a>
          <a href="index.html" class="logout-link">
            <span class="material-icons-sharp">logout</span>
            <h3>Logout</h3>
          </a>
        </div>
      </aside>
      <!------END OF SIDEBAR------->
      <main>
        <h1>Dashboard</h1>

        <!-- Group Members and Calendar Section -->
        <div class="dashboard-section">
          <!-- Calendar -->
          <div class="calendar-wrapper">
            <div class="calendar-header">
              <button id="prev-month" class="nav-button">◁</button>
              <span id="month-year"></span>
              <button id="next-month" class="nav-button">▷</button>
            </div>
            <div class="calendar-days">
              <div>Sun</div>
              <div>Mon</div>
              <div>Tue</div>
              <div>Wed</div>
              <div>Thu</div>
              <div>Fri</div>
              <div>Sat</div>
            </div>
            <div class="calendar-grid" id="calendar-grid"></div>
          </div>

          <!-- Group Members -->
          <div class="members">
            <h2>Member Log</h2>
            <div class="groupList">
              <img class="profile-photo" src="./images/long.jpg" />
              <b>John Carlo Bauzon</b>
            </div>
            <div class="groupList">
              <img class="profile-photo" src="./images/zidane.jpg" />
              <b>Zidane Condino</b>
            </div>
            <div class="groupList">
              <img class="profile-photo" src="./images/rham.jpg" />
              <b>Rhamuel Gamboa</b>
            </div>
            <div class="groupList">
              <img class="profile-photo" src="./images/brent.jpg" />
              <b>Brent Tarog</b>
            </div>
            <div class="groupList">
              <img class="profile-photo" src="./images/tim.jpg" />
              <b>Timothy Villegas</b>
            </div>
          </div>
        </div>

        <!-- Tickets Section -->
        <div class="overview">
          <div class="ticketing-header">
            <h2>Tickets</h2>
            <span id="current-user-badge" class="chip">John Carlo Bauzon (admin)</span>
          </div>

          <div class="ticket-grid">
            <div class="card">
              <h3>Create Ticket</h3>
              <form id="ticket-form" class="stacked">
                <label>Title / Subject
                  <input type="text" name="title" required placeholder="Cannot access dashboard" />
                </label>
                <label>Detailed Description
                  <textarea name="description" required placeholder="Describe the issue in detail"></textarea>
                </label>
                <div class="grid-2">
                  <label>Category
                    <input type="text" name="category" placeholder="Platform" />
                  </label>
                  <label>Type
                    <select name="type">
                      <option value="incident">Incident</option>
                      <option value="request">Request</option>
                      <option value="bug">Bug</option>
                      <option value="task">Task</option>
                    </select>
                  </label>
                </div>
                <div class="grid-2">
                  <label>Priority
                    <select name="priority">
                      <option value="low">Low</option>
                      <option value="medium" selected>Medium</option>
                      <option value="high">High</option>
                      <option value="critical">Critical</option>
                    </select>
                  </label>
                  <label>Source
                    <select name="source">
                      <option value="web">Web</option>
                      <option value="email">Email</option>
                      <option value="api">API</option>
                      <option value="chat">Chat</option>
                    </select>
                  </label>
                </div>
                <label>Tags / Labels (comma separated)
                  <input type="text" name="tags" placeholder="login, auth" />
                </label>
                <label>Assignee (team members)
                  <select name="assigneeId" id="assigneeId">
                    <option value="">Unassigned</option>
                  </select>
                </label>
                <label>Attachments
                  <input type="file" name="attachments" multiple />
                </label>
                <button type="submit" class="btn-primary">Create Ticket</button>
              </form>
            </div>
          </div>

          <div class="card">
            <div class="ticketing-header">
              <h3>Ticket List</h3>
              <form id="ticket-search-form" class="ticket-search">
                <input type="text" id="ticket-search-input" placeholder="Search by Ticket ID" aria-label="Search by Ticket ID" />
                <button type="submit" class="btn-primary btn-compact">Search</button>
              </form>
            </div>
            <table class="tickets-table">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Title</th>
                  <th>Priority</th>
                  <th>Status</th>
                  <th>Assignee</th>
                  <th>Updated</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="ticket-rows"></tbody>
            </table>
          </div>

        </div>
      </main>
      <!----------------END OF MAIN----------------------->

      <div class="right">
        <div class="top">
          <button id="menu-btn">
            <span class="material-icons-sharp">menu</span>
          </button>
          <div class="theme-toggler">
            <span class="material-icons-sharp active">light_mode</span>
            <!--Dapat buttons toh na nagchchange ng bg preferably may parang swipe animation-->
            <span class="material-icons-sharp">dark_mode</span>
          </div>
          <div class="profile">
            <div class="info">
              <!--User info sa top right-->
              <p><b>John Carlo</b></p>
              <small class="text-muted">Leader</small>
            </div>
            <div class="profile-photo">
              <img src="./images/long.jpg" alt="" /><!--user picture-->
            </div>
          </div>
        </div>
        <!----END OF TOP------>
        <div class="recent-updates">
          <h2>Recent Audit Trail</h2>
          <ul id="audit-feed" class="audit-feed"></ul>
        </div>
        <!--------END OF RECENT UPDATES-------------->
      </div>
    </div>

    <!-- Member Updates Modal (popup) -->
    <div id="member-updates-modal" class="modal">
      <div class="modal-content">
        <span class="close-button">&times;</span>
        <h2 id="modal-member-name"></h2>
        <div id="modal-updates"></div>
      </div>
    </div>

    <!-- Audit modal (popup) -->
    <div id="audit-modal" class="modal">
      <div class="modal-content">
        <span id="audit-modal-close" class="close-button">&times;</span>
        <h2>Audit Trail</h2>
        <div id="audit-modal-body"></div>
      </div>
    </div>

    <!-- Ticket Detail modal (popup) -->
    <div id="ticket-detail-modal" class="modal">
      <div class="modal-content modal-large">
        <span id="ticket-detail-close" class="close-button">&times;</span>
        <div id="ticket-detail-body"></div>
      </div>
    </div>

    <script src="ticketfunction.js"></script>    
    <script src="calendar.js"></script>
  </body>
</html>